function numberFormat(a){return new Intl.NumberFormat("id-ID").format(a)}function parseToNum(a){return parseFloat(a.toString().replace(/,/g,""))}function showCovidData(a,s){const o=s.id===regions.indonesia.id?"#covid-nasional":"#covid-provinsi";Object.keys(s.attributes).forEach(function(n){let i=a[s.attributes[n]],r="wilayah"===n?i.toUpperCase():numberFormat(parseToNum(i));$(o).find(`[data-name=${n}]`).html(`${r}`)}),$(o).find(".shimmer").removeClass("shimmer")}function showError(a=""){$(`${a} .shimmer`).html('<span class="small"><i class="fa fa-exclamation-triangle"></i> Gagal memuat...</span>'),$(`${a} .shimmer`).removeClass("shimmer")}const regions={indonesia:{id:1,attributes:{wilayah:"name",positif:"jumlahKasus",meninggal:"meninggal",sembuh:"sembuh",perawatan:"perawatan"}},provinsi:{id:2,attributes:{wilayah:"provinsi",positif:"kasusPosi",meninggal:"kasusMeni",sembuh:"kasusSemb"}}};$(document).ready(function(){if($("#jadwal-shalat").length){const a="https://api.banghasan.com/",s=`sholat/format/json/kota/kode/${KODE_KOTA}`,o=`sholat/format/json/jadwal/kota/${KODE_KOTA}/tanggal/${TANGGAL}`;try{$.ajax({async:!0,cache:!0,url:a+s,success:function(a){$("[data-name=kota]").html(a.kota[0].nama).removeClass("shimmer line-short")},error:function(a){showError("#jadwal-shalat")}}),$.ajax({url:a+o,async:!0,cache:!0,success:function(a){$("#jadwal-shalat .shimmer").removeClass("shimmer");const s=["imsak","subuh","dzuhur","ashar","maghrib","isya"];s.forEach(function(s){$(`[data-name=${s}]`).html(`<span class="small">${s}</span><span>${a.jadwal.data[s]}</span>`)})},error:function(a){showError("#jadwal-shalat")}})}catch(a){showError("#jadwal-shalat")}}if($("#covid-nasional").length){const a="https://indonesia-covid-19.mathdro.id/api/",s="provinsi/";try{$.ajax({async:!0,cache:!0,url:a,success:function(a){const s=a;s.name="Indonesia",showCovidData(s,regions.indonesia)},error:function(a){showError("#covid-nasional")}})}catch(a){showError("#covid-nasional")}if(KODE_PROVINSI)try{$.ajax({async:!0,cache:!0,url:a+s,success:function(a){const s=a.data.filter(a=>a.kodeProvi==KODE_PROVINSI);s.length?showCovidData(s[0],regions.provinsi):showError("#covid-provinsi")},error:function(a){showError("#covid-provinsi")}})}catch(a){showError("#covid-provinsi")}}});
